<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Adson Income App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f1f8e9;
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      background: #ffffff;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      text-align: center;
      width: 90%;
      max-width: 400px;
    }

    h2 {
      margin-bottom: 10px;
      color: #388e3c;
    }

    #points {
      font-size: 24px;
      color: #d84315;
      margin: 15px 0;
    }

    .btn {
      background-color: #43a047;
      color: white;
      border: none;
      padding: 12px 18px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      margin: 6px 0;
      width: 100%;
    }

    .btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    .reset {
      margin-top: 12px;
      color: #999;
      cursor: pointer;
      font-size: 14px;
      text-decoration: underline;
    }

    #loader {
      margin-top: 10px;
      color: #666;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ЁЯУ▒ Adson ржЗржиржХрж╛ржо ржЕрзНржпрж╛ржк</h2>
    <p>ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрзБржи ржПржмржВ ржЗржиржХрж╛ржо ржХрж░рзБржи!</p>

    <div id="points">ЁЯФе ржЖржкржирж╛рж░ ржкрзЯрзЗржирзНржЯ: <span id="pointValue">0</span></div>

    <button class="btn" onclick="handleAdClick(1)" id="btn1">ЁЯУ║ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрж╛ржи рзз</button>
    <button class="btn" onclick="handleAdClick(2)" id="btn2">ЁЯУ║ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрж╛ржи рзи</button>
    <button class="btn" onclick="handleAdClick(3)" id="btn3">ЁЯУ║ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрж╛ржи рзй</button>

    <div id="loader">ЁЯФД ржмрж┐ржЬрзНржЮрж╛ржкржи рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>

    <div class="reset" onclick="resetPoints()">ЁЯЧСя╕П рж░рж┐рж╕рзЗржЯ ржХрж░рзБржи</div>
  </div>

  <!-- Monetag Ad -->
  <script src="https://libtl.com/sdk.js" data-zone="9417101" data-sdk="show_9417101"></script>

  <script>
    const tg = window.Telegram?.WebApp;
    if (tg) tg.expand();

    let points = parseInt(localStorage.getItem("adPoints")) || 0;
    document.getElementById("pointValue").innerText = points;

    // ржкрзНрж░рждрж┐ржЯрж┐ ржмрж╛ржЯржирзЗрж░ ржЬржирзНржп рж╕рзНржЯрзЗржЯ рж░рж╛ржЦржмрзЛ
    let adState = {
      1: { viewed: false, rewarded: false },
      2: { viewed: false, rewarded: false },
      3: { viewed: false, rewarded: false }
    };

    function handleAdClick(id) {
      const loader = document.getElementById("loader");
      loader.style.display = "block";

      setTimeout(() => {
        loader.style.display = "none";

        if (typeof show_9417101 === "function") {
          show_9417101();

          // ржпржжрж┐ ржЖржЧрзЗрж░ржмрж╛рж░ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрж╛ рж╣рзЯрзЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржПржмрж╛рж░ ржкржпрж╝рзЗржирзНржЯ ржжрж╛ржУ
          if (adState[id].viewed && !adState[id].rewarded) {
            addPoints(10);
            adState[id].rewarded = true;
            document.getElementById("btn" + id).disabled = true;
            alert("тЬЕ ржкржпрж╝рзЗржирзНржЯ ржпрзЛржЧ рж╣ржпрж╝рзЗржЫрзЗ!");
          } else if (!adState[id].viewed) {
            adState[id].viewed = true;
            alert("ЁЯСЙ ржмрж┐ржЬрзНржЮрж╛ржкржи ржжрзЗржЦрзЗржЫрзЗржи! ржЖржмрж╛рж░ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржкржпрж╝рзЗржирзНржЯ ржкрж╛ржмрзЗржиред");
          } else {
            alert("тЫФ ржПржЗ ржмрж╛ржЯржи ржерзЗржХрзЗ ржЖржкржирж┐ ржкржпрж╝рзЗржирзНржЯ ржкрзЗржпрж╝рзЗржЫрзЗржиред");
          }

        } else {
          alert("тЪая╕П ржЕрзНржпрж╛ржб рж▓рзЛржб рж╣рзЯржирж┐!");
        }
      }, 1000);
    }

    function addPoints(val) {
      points += val;
      localStorage.setItem("adPoints", points);
      document.getElementById("pointValue").innerText = points;
    }

    function resetPoints() {
      if (confirm("ржЖржкржирж┐ ржХрж┐ рж░рж┐рж╕рзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржи?")) {
        points = 0;
        localStorage.setItem("adPoints", 0);
        document.getElementById("pointValue").innerText = 0;

        // Reset button state
        adState = {
          1: { viewed: false, rewarded: false },
          2: { viewed: false, rewarded: false },
          3: { viewed: false, rewarded: false }
        };
        for (let i = 1; i <= 3; i++) {
          document.getElementById("btn" + i).disabled = false;
        }
      }
    }
  </script>
</body>
</html>
